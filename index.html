<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <link href="./output.css" rel="stylesheet" />
  </head>

  <body class="m-0 h-screen bg-[#312e26]">
    <div class="relative h-[100vw] max-h-[500px] w-[100vw] max-w-[500px]">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
      <div class="interceptor absolute z-50 h-full w-full overflow-y-hidden bg-yellow-700/20">
        <div class="h-2 w-[4000px]"></div>
      </div>
      <div class="wrapper h-full w-full overflow-auto">
        <div class="content relative h-[4000px] w-[4000px] bg-green-600">
          <svg width="4000" height="4000" fill="none" class="absolute bottom-0 left-0 bg-red-700/20">
            <path
              d="M0 4000

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50

              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50 
              v-50 h50
              "
              stroke="#F58859"
              stroke-width="4"
              stroke-linejoin="round"
            />
          </svg>
        </div>
      </div>
    </div>

    <style>
      .interceptor,
      .wrapper {
        /* Скрывает полосу прокрутки + Для Internet Explorer и Edge*/
        scrollbar-width: none;
        -ms-overflow-style: none;
      }
      .content {
        /* background-image: url('https://images.unsplash.com/photo-1461988320302-91bde64fc8e4?ixid=2yJhcHBfaWQiOjEyMDd9&fm=jpg&w=700&h=700&fit=min'); */
        background-image: url('https://static.tildacdn.com/tild3062-3632-4934-b561-396266353164/11111.png');
      }
    </style>
    <script>
      try {
        const wrapper = document.querySelector('.wrapper');
        const content = document.querySelector('.content');
        const interceptor = document.querySelector('.interceptor');

        const offset = initWrapperScrollPosition(wrapper);

        let isScrolling;

        const syncScroll = (value) => {
          // console.log('syncScroll', value);

          window.clearTimeout(isScrolling);
          isScrolling = setTimeout(() => {
            wrapper.scrollLeft = value;
            wrapper.scrollTop = 4000 - offset - value;
          }, 5);
        };

        interceptor.addEventListener('scroll', (e) => {
          requestAnimationFrame(() => {
            syncScroll(e.target.scrollLeft);
          });
        });

        function initWrapperScrollPosition(wrapper) {
          const windowInnerWidth = window.innerWidth;
          const offset = Math.min(windowInnerWidth, 500);
          wrapper.scrollTop = 4000 - offset;
          wrapper.scrollLeft = 0;
          return offset;
        }
      } catch (error) {
        alert(error);
      }
    </script>
  </body>
</html>
